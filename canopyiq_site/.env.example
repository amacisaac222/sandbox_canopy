# CanopyIQ Environment Configuration

# Session Security
SESSION_SECRET=your-super-secret-key-change-in-production
SESSION_DURATION_HOURS=8

# OIDC Authentication Configuration
# Leave empty to disable OIDC authentication
OIDC_ISSUER=https://your-identity-provider.com
OIDC_CLIENT_ID=your-client-id
OIDC_CLIENT_SECRET=your-client-secret
OIDC_REDIRECT_URL=http://localhost:8080/auth/callback
OIDC_SCOPES=openid email profile groups

# Example configurations for popular providers:

# Okta
# OIDC_ISSUER=https://your-domain.okta.com/oauth2/default
# OIDC_CLIENT_ID=0oa123abc456def789gh
# OIDC_CLIENT_SECRET=your-okta-client-secret
# OIDC_REDIRECT_URL=http://localhost:8080/auth/callback
# OIDC_SCOPES=openid email profile groups

# Azure AD
# OIDC_ISSUER=https://login.microsoftonline.com/your-tenant-id/v2.0
# OIDC_CLIENT_ID=12345678-1234-1234-1234-123456789abc
# OIDC_CLIENT_SECRET=your-azure-client-secret
# OIDC_REDIRECT_URL=http://localhost:8080/auth/callback
# OIDC_SCOPES=openid email profile

# Google Workspace
# OIDC_ISSUER=https://accounts.google.com
# OIDC_CLIENT_ID=123456789012-abcdefghijklmnopqrstuvwxyz.apps.googleusercontent.com
# OIDC_CLIENT_SECRET=your-google-client-secret
# OIDC_REDIRECT_URL=http://localhost:8080/auth/callback
# OIDC_SCOPES=openid email profile

# Auth0
# OIDC_ISSUER=https://your-domain.auth0.com/
# OIDC_CLIENT_ID=abcdef123456789
# OIDC_CLIENT_SECRET=your-auth0-client-secret
# OIDC_REDIRECT_URL=http://localhost:8080/auth/callback
# OIDC_SCOPES=openid email profile

# Setup Instructions:
# 1. Copy this file to .env and update with your values
# 2. Configure your OIDC provider with the redirect URL
# 3. Ensure your provider sends role/group claims for RBAC
# 4. Common role claim paths: 'roles', 'groups', 'realm_access.roles'
# 5. Admin users should have 'admin' or 'super_admin' role
# 6. Auditor users should have 'auditor' or 'compliance' role

# Role Mapping:
# The system looks for roles in these claim paths:
# - claims.roles (array)
# - claims.groups (array)
# - claims.realm_access.roles (Keycloak)
# - claims.resource_access.canopyiq.roles (Keycloak app-specific)
#
# Expected roles for access:
# - admin, super_admin: Full admin access
# - auditor, compliance: Can view audit data
# - Any authenticated user: Can access basic features